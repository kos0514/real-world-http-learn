<!doctype html>
<meta charset="utf-8"><title>Accept-Ranges: none</title>
<h1>Accept-Ranges: none</h1>
<p>/file_none は Accept-Ranges: none を返し、Range を無視して 200 全体を返します。</p>
<button id="go">bytes=0-1023 を送る</button>
<pre id="out" style="white-space:pre-wrap;background:#111;color:#ddd;padding:12px;border-radius:6px;"></pre>
<script>
const out=document.getElementById('out'); function log(...a){ out.textContent+=a.join(' ')+'\n'; }
function show(resp){ const keys=['status','Content-Length','Accept-Ranges','Content-Range']; log('---'); log('status:', resp.status, resp.statusText); for(const k of keys){ log(k+':', resp.headers.get(k)); } }

document.getElementById('go').onclick=async()=>{ const r=await fetch('/file_none',{headers:{'Range':'bytes=0-1023'}}); show(r); log('body bytes=',(await r.arrayBuffer()).byteLength); };
</script>
