<!doctype html>
<meta charset="utf-8">
<title>01 Basic GET</title>
<h1>Basic GET /json</h1>
<p>このページは XMLHttpRequest を使った最も基本的な GET の例です。「Send」ボタンを押すと /json へリクエストを送り、下にステータス/レスポンスヘッダ/本文を表示します。</p>
<p style="font-size:90%">メモ: デモとしてカスタムヘッダ MyHeader: HeaderValue を付与しています。</p>
<button id="run">Send</button>
<pre id="out"></pre>
<script>
const out = document.getElementById('out');
const run = document.getElementById('run');
run.onclick = function(){
  var xhr = new XMLHttpRequest();
  xhr.open("GET", "/json", true);
  xhr.onload = function() {
    out.textContent = xhr.status + "\n" + xhr.getAllResponseHeaders() + "\n" + xhr.responseText;
    try { console.log(JSON.parse(xhr.responseText)); } catch {}
  };
  xhr.setRequestHeader("MyHeader", "HeaderValue");
  xhr.send();
};
</script>
